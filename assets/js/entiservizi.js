function listServices(e,t){if(!t.classList.contains("filled")){var s=document.getElementById("listservices-template").innerHTML,i=Handlebars.compile(s),n=document.createElement("div"),r=i(e);n.innerHTML=r,t.classList.add("filled"),t.appendChild(n),t.classList.remove("loading")}}function errorOnGetServices(e){document.querySelector(".services"+e).innerText="Non riesco a caricare i servizi, riprova tra qualche minuto"}function getServices(e){var t=new XMLHttpRequest,s=SERVIZIPATHJSON+e+".json",i=document.querySelector(".services"+e);i.classList.contains("filled")||i.classList.add("loading"),t.open("GET",s,!0),t.onload=function(){this.status>=200&&this.status<400?listServices(JSON.parse(this.response),i,e):(errorOnGetServices(e),i.classList.remove("loading"))},t.onerror=function(){errorOnGetServices(e),i.classList.remove("loading")},t.send()}function lazyload(){var e;if("IntersectionObserver"in window){e=document.querySelectorAll(".lazy");var t=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var s=e.target,i=s.querySelector("img"),n=i.getAttribute("data-src");n=n.replace(/^0+/,""),i.setAttribute("src",IMGREPO+n),s.classList.remove("lazy"),t.unobserve(s),i.classList.add("show")}})});e.forEach(function(e){t.observe(e)})}else(e=document.querySelectorAll(".lazy")).forEach(function(e){e.classList.remove("lazy");var t=e.querySelector("img"),s=t.getAttribute("data-src");s=s.replace(/^0+/,""),t.setAttribute("src",IMGREPO+s),t.classList.add("show")})}function sendMessagesToRN(e){window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(e)}var IMGREPO="https://assets.cdn.io.italia.it/logos/organizations/",ENTISERVIZIJSON="/assets/json/enti-list-webview.json",SERVIZIPATHJSON="/assets/entijson/";Handlebars.registerHelper("setImgSrc",function(e){var t=Object.keys(e),s="";if(t){var i=t[0].replace(/^0+/,"");s=IMGREPO+i+".png"}return s}),Handlebars.registerHelper("getName",function(e){var t=Object.keys(e);return t?e[t[0]]:""}),Handlebars.registerHelper("getFc",function(e){var t=Object.keys(e);return t?t[0]:""}),Handlebars.registerHelper("lazy",function(e,t){return e<20?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("nolazy",function(e,t){return e<20?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("arriving",function(e,t){return 0==e?t.fn(this):t.inverse(this)}),document.addEventListener("DOMContentLoaded",function(){function e(){l.classList.remove("active"),u.innerHTML="";var e,i=s.value.trim();e=m.filter(function(e){return-1!==e[Object.keys(e)[0]].toUpperCase().indexOf(i.toUpperCase())}),n.innerText=i,a.classList.add("active"),window.scrollTo(0,0),e.length>0?t(e,u):(l.classList.add("active"),d.classList.add("d-none")),c.classList.remove("active")}function t(e,t){var s=document.getElementById("entiservizi-template").innerHTML,i=Handlebars.compile(s),n=document.createElement("div"),r=i(e);n.innerHTML=r,t.appendChild(n),lazyload()}var s=document.getElementById("entiservizi__searchstring"),i=document.getElementById("entiservizi__search"),n=document.getElementById("entiservizi__searched"),r=document.getElementById("entiservizi__submit"),a=document.querySelector(".entiservizi__search__done"),o=document.getElementById("entiservizi__searchreset"),c=(document.querySelector(".entiservizi__search__tip"),document.querySelector(".entiservizi__searching")),l=document.querySelector(".entiservizi__noresults"),d=document.querySelector(".entiservizi__list"),u=document.querySelector(".entiservizi__list__search"),v=document.querySelector(".entiservizi__problem"),m=[];s.addEventListener("focus",function(){i.classList.add("onfocus")}),s.addEventListener("focusout",function(){i.classList.remove("onfocus")}),o.addEventListener("click",function(e){e.preventDefault(),a.classList.remove("active"),u.innerHTML="",window.scrollTo(0,0),s.value="",d.classList.remove("d-none"),l.classList.remove("active")}),i.addEventListener("submit",function(t){d.classList.add("d-none"),c.classList.add("active"),a.classList.remove("active"),t.preventDefault(),r.focus(),e()});var f=new XMLHttpRequest;f.open("GET",ENTISERVIZIJSON,!0),f.onload=function(){this.status>=200&&this.status<400?(document.body.classList.remove("loading"),t(m=JSON.parse(this.response),d)):(document.body.classList.remove("loading"),v.classList.add("active"))},f.onerror=function(){document.body.classList.remove("loading"),v.classList.add("active")},f.send()});