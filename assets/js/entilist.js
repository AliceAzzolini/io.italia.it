$(function(){function e(e,n){var s=0;return function(){var i=this,t=arguments;clearTimeout(s),s=setTimeout(function(){e.apply(i,t)},n||0)}}function n(e){var n=[];results=u.filter(function(s){return-1!==s.indexOf(e.toUpperCase())&&(n.push(s.split("|")[1]),!0)}),i.each(function(){var e=$(this),s=!1;n.includes(e.attr("id"))&&(e.fadeIn(600),s||(s=!0,t.addClass("d-none"),a.addClass("invisible")))}),results.length<1&&(a.addClass("invisible"),t.removeClass("d-none"))}var s=".entiList__item",i=$(s),t=$("#entiSearch__noresults"),a=$("#entiSearch__loading"),o=$("#entiSearchReset"),l=$(".entiList__scopefilter a"),r=$("#entiSearchInput"),c="/assets/json/enti-list-searchable.json",u=[],d=window.location.hash,f={"#nazionali":"NATIONAL","#locali":"LOCAL"};($.ajax({url:c,dataType:"json",success:function(e){u=e}}),o.on("click",function(e){e.preventDefault(),i.show(),t.addClass("d-none"),r.val(""),r.focus(),o.addClass("invisible")}),l.on("click",function(e){e.preventDefault();var n=$(this).data("scopeSelector");""!==n?($(s+"."+n).removeClass("d-none"),$(s+":not(."+n+")").addClass("d-none")):$(s).removeClass("d-none"),l.removeClass("active"),$(this).addClass("active")}),r.on("focus",function(){l.first().trigger("click")}),r.on("keyup",e(function(e){e.preventDefault();var s=this.value;if(s.length<3)return i.fadeIn(),!1;a.removeClass("invisible"),o.removeClass("invisible"),i.hide(),n(s)},1e3)),""!=d)&&l.filter('[data-scope-selector="'+f[d]+'"]').trigger("click")});