function lazyload(){var e;if("IntersectionObserver"in window){e=document.querySelectorAll(".lazy");var t=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var n=e.target,i=n.querySelector("img"),s=i.getAttribute("data-src");s=s.replace(/^0+/,""),i.setAttribute("src",IMGREPO+s),n.classList.remove("lazy"),t.unobserve(n),i.classList.add("show")}})});e.forEach(function(e){t.observe(e)})}else{var n;function i(){n&&clearTimeout(n),n=setTimeout(function(){var t=window.pageYOffset;e.forEach(function(e){e.offsetTop<window.innerHeight+t&&(e.src=e.dataset.src,e.hasAttribute("data-bkgimage")&&(e.classList.remove("lazy"),e.style.backgroundImage=e.getAttribute("data-bkgimage")))}),0==e.length&&(document.removeEventListener("scroll",i()),window.removeEventListener("resize",i()),window.removeEventListener("orientationChange",i()))},20)}e=document.querySelectorAll(".lazy"),document.addEventListener("scroll",i()),window.addEventListener("resize",i()),window.addEventListener("orientationChange",i())}}function sendMessagesToRN(e){window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(e)}var IMGREPO="https://assets.cdn.io.italia.it/logos/organizations/";document.addEventListener("DOMContentLoaded",function(){function e(e,t){var n=e.o.toUpperCase(),i=(e.s.length>0?e.s:[]).map(function(e){return Object.keys(e).map(function(t){return e[t].toUpperCase()})});v.push(t.toString()+"|"+n+"|"+i.join())}function t(){l.classList.remove("active");var e,t=i.value.trim();if(e=v.filter(function(e){return-1!==e.indexOf(t.toUpperCase())}),o.innerText=t,a.classList.add("active"),window.scrollTo(0,0),e.length>0){var n=document.getElementsByClassName("entiservizi__item"),s=e.map(function(e){return e.split("|")[0]});Array.prototype.forEach.call(n,function(e){s.indexOf(e.getAttribute("data-index"))>=0?e.classList.remove("d-none"):e.classList.add("d-none")}),u.classList.remove("d-none")}else l.classList.add("active"),u.classList.add("d-none");d.classList.remove("active")}function n(t){var n=document.getElementById("entiservizi-template").innerHTML,i=Handlebars.compile(n);t.forEach(function(t,n){e(t,n);var s=document.createElement("div");s.classList.add("entiservizi__item"),s.setAttribute("data-index",n),s.classList.add("lazy");var o=i(t);s.innerHTML=o,u.appendChild(s)}),lazyload()}var i=document.getElementById("entiservizi__searchstring"),s=document.getElementById("entiservizi__search"),o=document.getElementById("entiservizi__searched"),r=document.getElementById("entiservizi__submit"),a=document.querySelector(".entiservizi__search__done"),c=document.getElementById("entiservizi__searchreset"),d=(document.querySelector(".entiservizi__search__tip"),document.querySelector(".entiservizi__searching")),l=document.querySelector(".entiservizi__noresults"),u=document.querySelector(".entiservizi__list"),v=[];i.addEventListener("focus",function(){s.classList.add("onfocus")}),i.addEventListener("focusout",function(){s.classList.remove("onfocus")}),c.addEventListener("click",function(e){e.preventDefault();var t=document.querySelectorAll(".entiservizi__item.d-none");a.classList.remove("active"),window.scrollTo(0,0),i.value="",Array.prototype.forEach.call(t,function(e){e.classList.remove("d-none")}),u.classList.remove("d-none"),l.classList.remove("active")}),s.addEventListener("submit",function(e){u.classList.add("d-none"),d.classList.add("active"),a.classList.remove("active"),e.preventDefault(),r.focus(),setTimeout(t,2e3)});var m=new XMLHttpRequest;m.open("GET","/assets/json/servizi-ricercabili.json",!0),m.onload=function(){this.status>=200&&this.status<400?(document.body.classList.remove("loading"),n(JSON.parse(this.response))):console.log("Problemi di connessione")},m.onerror=function(){},m.send()});